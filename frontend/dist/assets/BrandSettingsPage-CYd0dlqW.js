import{r as o,j as e,a as d}from"./index-C0GJ52WS.js";import{s as p,a as j}from"./toast-utils-M6viY3es.js";const v=()=>{const[a,s]=o.useState({primaryColor:"#3B82F6",logo:null,defaultTemplateId:null,defaultCaptionStyle:{font_family:"Inter",font_size:24,font_color:"#FFFFFF",background_color:"#000000B3"}}),[c,m]=o.useState(null),[g,f]=o.useState([]),[h,u]=o.useState(!0),[i,x]=o.useState(!1);o.useEffect(()=>{(async()=>{var r;try{u(!0);const l=await d.endpoints.content.getTemplates();f((l==null?void 0:l.data)||[]);const n=await d.endpoints.user.getProfile();(r=n==null?void 0:n.data)!=null&&r.brandSettings&&s(n.data.brandSettings)}catch(l){console.error("Error fetching brand settings:",l),p("Failed to load brand settings")}finally{u(!1)}})()},[]);const y=t=>{if(t.target.files&&t.target.files[0]){m(t.target.files[0]);const r=new FileReader;r.onload=l=>{l.target&&l.target.result&&s({...a,logo:l.target.result})},r.readAsDataURL(t.target.files[0])}},b=async()=>{var t;try{if(x(!0),c){const r=new FormData;r.append("file",c),r.append("type","logo");const l=await d.endpoints.user.uploadBrandAsset(r);(t=l==null?void 0:l.data)!=null&&t.url&&(a.logo=l.data.url)}await d.endpoints.user.updateProfile({preferences:{brandSettings:a}}),j("Brand settings saved successfully")}catch(r){console.error("Error saving brand settings:",r),p("Failed to save brand settings")}finally{x(!1)}};return h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Brand Settings"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Customize your brand appearance for all generated videos."})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Logo"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-24 h-24 border rounded-lg flex items-center justify-center overflow-hidden bg-gray-100",children:a.logo?e.jsx("img",{src:a.logo,alt:"Brand logo",className:"max-w-full max-h-full"}):e.jsx("span",{className:"text-gray-400",children:"No logo"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",className:"hidden",onChange:y}),e.jsx("label",{htmlFor:"logo-upload",className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 cursor-pointer inline-block",children:"Upload Logo"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended size: 512x512px, PNG or JPG"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Brand Color"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"color",value:a.primaryColor,onChange:t=>s({...a,primaryColor:t.target.value}),className:"w-10 h-10 rounded border p-0"}),e.jsx("input",{type:"text",value:a.primaryColor,onChange:t=>s({...a,primaryColor:t.target.value}),className:"px-3 py-2 border rounded-md w-32"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Template"}),e.jsxs("select",{value:a.defaultTemplateId||"",onChange:t=>s({...a,defaultTemplateId:t.target.value||null}),className:"w-full px-3 py-2 border rounded-md",children:[e.jsx("option",{value:"",children:"No default template"}),g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Caption Style"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Font Family"}),e.jsxs("select",{value:a.defaultCaptionStyle.font_family,onChange:t=>s({...a,defaultCaptionStyle:{...a.defaultCaptionStyle,font_family:t.target.value}}),className:"w-full px-3 py-2 border rounded-md",children:[e.jsx("option",{value:"Inter",children:"Inter"}),e.jsx("option",{value:"Roboto",children:"Roboto"}),e.jsx("option",{value:"Montserrat",children:"Montserrat"}),e.jsx("option",{value:"Open Sans",children:"Open Sans"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Font Size"}),e.jsx("input",{type:"number",min:"12",max:"48",value:a.defaultCaptionStyle.font_size,onChange:t=>s({...a,defaultCaptionStyle:{...a.defaultCaptionStyle,font_size:parseInt(t.target.value)}}),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Font Color"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"color",value:a.defaultCaptionStyle.font_color,onChange:t=>s({...a,defaultCaptionStyle:{...a.defaultCaptionStyle,font_color:t.target.value}}),className:"w-8 h-8 rounded border p-0"}),e.jsx("input",{type:"text",value:a.defaultCaptionStyle.font_color,onChange:t=>s({...a,defaultCaptionStyle:{...a.defaultCaptionStyle,font_color:t.target.value}}),className:"px-3 py-2 border rounded-md flex-1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Background Color"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"color",value:a.defaultCaptionStyle.background_color,onChange:t=>s({...a,defaultCaptionStyle:{...a.defaultCaptionStyle,background_color:t.target.value}}),className:"w-8 h-8 rounded border p-0"}),e.jsx("input",{type:"text",value:a.defaultCaptionStyle.background_color,onChange:t=>s({...a,defaultCaptionStyle:{...a.defaultCaptionStyle,background_color:t.target.value}}),className:"px-3 py-2 border rounded-md flex-1"})]})]})]})]})]}),e.jsx("div",{className:"p-6 border-t bg-gray-50",children:e.jsx("button",{onClick:b,disabled:i,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Saving...":"Save Brand Settings"})})]})},S=()=>e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Brand Settings"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Customize your brand appearance for all generated videos. These settings will be applied by default to new videos."}),e.jsx(v,{})]});export{S as default};
